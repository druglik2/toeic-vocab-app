<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC ë‹¨ì–´ í…ŒìŠ¤íŠ¸</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ (Tailwind í´ë˜ìŠ¤ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, í•„ìš”í•œ ê²½ìš° ì¶”ê°€) */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center p-4">
    <div id="app" class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md text-center transform transition-all duration-300 hover:scale-105">
        <!-- ì•± ì½˜í…ì¸ ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
    </div>

    <script>
        // ë‹¨ì–´ ëª©ë¡ (TOEIC 800ì ëŒ€ ë° 900ì ëŒ€ ìˆ˜ì¤€ ì˜ˆì‹œ)
        // ì—¬ê¸°ì— í† ìµ 800ì ëŒ€ ë‹¨ì–´ 500ê°œì™€ 900ì ëŒ€ ë‹¨ì–´ 500ê°œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.
        // ì˜ˆì‹œ: { word: 'ë‹¨ì–´', definition: 'ì •ì˜' } í˜•ì‹ìœ¼ë¡œ ì¶”ê°€
        const vocabulary800 = [
            // --- TOEIC 800ì ëŒ€ ë‹¨ì–´ ì˜ˆì‹œ ì‹œì‘ ---
            { word: 'adapt', definition: 'ì ì‘í•˜ë‹¤, ê°œì¡°í•˜ë‹¤' },
            { word: 'assess', definition: 'í‰ê°€í•˜ë‹¤, ì‚¬ì •í•˜ë‹¤' },
            { word: 'collaborate', definition: 'í˜‘ë ¥í•˜ë‹¤, ê³µë™ ì‘ì—…í•˜ë‹¤' },
            { word: 'diverse', definition: 'ë‹¤ì–‘í•œ' },
            { word: 'enhance', definition: 'í–¥ìƒì‹œí‚¤ë‹¤, ê°•í™”í•˜ë‹¤' },
            { word: 'feasible', definition: 'ì‹¤í–‰ ê°€ëŠ¥í•œ, ì‹¤í˜„ ê°€ëŠ¥í•œ' },
            { word: 'innovative', definition: 'í˜ì‹ ì ì¸' },
            { word: 'monitor', definition: 'ê°ì‹œí•˜ë‹¤, ê´€ì°°í•˜ë‹¤' },
            { word: 'optimize', definition: 'ìµœì í™”í•˜ë‹¤' },
            { word: 'prioritize', definition: 'ìš°ì„ ìˆœìœ„ë¥¼ ë§¤ê¸°ë‹¤' },
            { word: 'resolve', definition: 'í•´ê²°í•˜ë‹¤, ê²°ì‹¬í•˜ë‹¤' },
            { word: 'sustain', definition: 'ìœ ì§€í•˜ë‹¤, ì§€ì†í•˜ë‹¤' },
            { word: 'undertake', definition: 'ì°©ìˆ˜í•˜ë‹¤, ë§¡ë‹¤' },
            { word: 'valid', definition: 'ìœ íš¨í•œ, íƒ€ë‹¹í•œ' },
            { word: 'fluctuate', definition: 'ë³€ë™í•˜ë‹¤, ì˜¤ë¥´ë‚´ë¦¬ë‹¤' },
            { word: 'incentive', definition: 'ì¥ë ¤ê¸ˆ, ìœ ì¸ì±…' },
            { word: 'mandatory', definition: 'ì˜ë¬´ì ì¸, ê°•ì œì ì¸' },
            { word: 'prominent', definition: 'ìœ ëª…í•œ, ë‘ë“œëŸ¬ì§„' },
            { word: 'redundant', definition: 'ë¶ˆí•„ìš”í•œ, ì •ë¦¬ í•´ê³ ëœ' },
            { word: 'speculate', definition: 'ì¶”ì¸¡í•˜ë‹¤, íˆ¬ê¸°í•˜ë‹¤' },
            { word: 'consensus', definition: 'ì˜ê²¬ ì¼ì¹˜, í•©ì˜' },
            { word: 'delegation', definition: 'ëŒ€í‘œë‹¨, ìœ„ì„' },
            { word: 'expenditure', definition: 'ì§€ì¶œ, ë¹„ìš©' },
            { word: 'foresee', definition: 'ì˜ˆê²¬í•˜ë‹¤, ì˜ˆì¸¡í•˜ë‹¤' },
            { word: 'implication', definition: 'í•¨ì¶•, ì˜í–¥' },
            { word: 'liability', definition: 'ì±…ì„, ë¶€ì±„' },
            { word: 'negligible', definition: 'í•˜ì°®ì€, ë¬´ì‹œí•´ë„ ì¢‹ì€' },
            { word: 'perpetual', definition: 'ì˜êµ¬ì ì¸, ëŠì„ì—†ëŠ”' },
            { word: 'reiterate', definition: 'ë°˜ë³µí•˜ë‹¤, ë˜í’€ì´í•˜ë‹¤' },
            { word: 'subsequent', definition: 'ê·¸ ë‹¤ìŒì˜, ì°¨í›„ì˜' },
            // --- TOEIC 800ì ëŒ€ ë‹¨ì–´ ì˜ˆì‹œ ë ---

            // ì—¬ê¸°ì— 800ì ëŒ€ ë‹¨ì–´ 500ê°œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.
        ];

        const vocabulary900 = [
            // --- TOEIC 900ì ëŒ€ ë‹¨ì–´ ì˜ˆì‹œ ì‹œì‘ (ê¸°ì¡´ ë‹¨ì–´ í¬í•¨) ---
            { word: 'acquire', definition: '(ì§€ì‹, ê¸°ìˆ  ë“±ì„) ìŠµë“í•˜ë‹¤, ì–»ë‹¤' },
            { word: 'allocate', definition: '(ìê¸ˆ, ì‹œê°„ ë“±ì„) í• ë‹¹í•˜ë‹¤, ë°°ë¶„í•˜ë‹¤' },
            { word: 'comply', definition: '(ë²•, ê·œì¹™ ë“±ì„) ì¤€ìˆ˜í•˜ë‹¤, ë”°ë¥´ë‹¤' },
            { word: 'dedicate', definition: '(ì‹œê°„, ë…¸ë ¥ ë“±ì„) ë°”ì¹˜ë‹¤, í—Œì‹ í•˜ë‹¤' },
            { word: 'endorse', definition: '(ê³µê°œì ìœ¼ë¡œ) ì§€ì§€í•˜ë‹¤, ë³´ì¦í•˜ë‹¤' },
            { word: 'facilitate', definition: '(ê³¼ì •, ì§„í–‰ì„) ìš©ì´í•˜ê²Œ í•˜ë‹¤, ì´‰ì§„í•˜ë‹¤' },
            { word: 'implement', definition: '(ê³„íš, ì •ì±… ë“±ì„) ì‹¤í–‰í•˜ë‹¤, ì´í–‰í•˜ë‹¤' },
            { word: 'initiate', definition: '(ì‚¬ì—…, ê³„íš ë“±ì„) ì‹œì‘í•˜ë‹¤, ê°œì‹œí•˜ë‹¤' },
            { word: 'leverage', definition: '(ìì›, ì˜í–¥ë ¥ì„) í™œìš©í•˜ë‹¤, ì§€ë ›ëŒ€ íš¨ê³¼ë¥¼ ë‚´ë‹¤' },
            { word: 'mitigate', definition: '(ê³ í†µ, ìœ„í—˜ ë“±ì„) ì™„í™”ì‹œí‚¤ë‹¤, ê²½ê°í•˜ë‹¤' },
            { word: 'negotiate', definition: 'í˜‘ìƒí•˜ë‹¤, êµì„­í•˜ë‹¤' },
            { word: 'articulate', definition: 'ëª…í™•íˆ í‘œí˜„í•˜ë‹¤' },
            { word: 'disseminate', definition: 'ë„ë¦¬ í¼ëœ¨ë¦¬ë‹¤, ì „íŒŒí•˜ë‹¤' },
            { word: 'reimburse', definition: 'ë³€ì œí•˜ë‹¤, ìƒí™˜í•˜ë‹¤' },
            { word: 'streamline', definition: 'ê°„ì†Œí™”í•˜ë‹¤, ëŠ¥ë¥ í™”í•˜ë‹¤' },
            { word: 'substantiate', definition: 'ì…ì¦í•˜ë‹¤, êµ¬ì²´í™”í•˜ë‹¤' },
            { word: 'underscore', definition: 'ê°•ì¡°í•˜ë‹¤, ë¶„ëª…íˆ ë³´ì—¬ì£¼ë‹¤' },
            { word: 'validate', definition: 'ì…ì¦í•˜ë‹¤, í™•ì¸í•˜ë‹¤' },
            { word: 'contingency', definition: 'ë§Œì¼ì˜ ì‚¬íƒœ, ìš°ë°œì ì¸ ì‚¬ê±´' },
            { word: 'discrepancy', definition: 'ë¶ˆì¼ì¹˜, ì°¨ì´' },
            { word: 'expedite', definition: 'ì‹ ì†íˆ ì²˜ë¦¬í•˜ë‹¤, ì´‰ì§„í•˜ë‹¤' },
            { word: 'imperative', definition: 'í•„ìˆ˜ì ì¸, ê¸´ê¸‰í•œ' },
            { word: 'meticulous', definition: 'ê¼¼ê¼¼í•œ, ì„¸ì‹¬í•œ' },
            { word: 'prerequisite', definition: 'í•„ìˆ˜ ì¡°ê±´' },
            { word: 'scrutinize', definition: 'ì„¸ì‹¬íˆ ì‚´í”¼ë‹¤, ë©´ë°€íˆ ì¡°ì‚¬í•˜ë‹¤' },
            { word: 'unanimous', definition: 'ë§Œì¥ì¼ì¹˜ì˜' },
            { word: 'ameliorate', definition: 'ê°œì„ í•˜ë‹¤, ì™„í™”ì‹œí‚¤ë‹¤' },
            { word: 'conducive', definition: '~ì— ë„ì›€ì´ ë˜ëŠ”' },
            { word: 'delineate', definition: 'ë¬˜ì‚¬í•˜ë‹¤, ì„¤ëª…í•˜ë‹¤' },
            { word: 'equivocal', definition: 'ì• ë§¤ëª¨í˜¸í•œ, ë¶ˆë¶„ëª…í•œ' },
            { word: 'ubiquitous', definition: 'ì–´ë””ì—ë‚˜ ìˆëŠ”, ì•„ì£¼ í”í•œ' },
            // --- TOEIC 900ì ëŒ€ ë‹¨ì–´ ì˜ˆì‹œ ë ---

            // ì—¬ê¸°ì— 900ì ëŒ€ ë‹¨ì–´ 500ê°œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.
        ];

        // í€´ì¦ˆ ìƒíƒœ ë³€ìˆ˜
        let quizStarted = false;
        let selectedLevel = null; // '800' ë˜ëŠ” '900'
        let currentWordIndex = 0;
        let shuffledWords = [];
        let currentOptions = []; // 4ì§€ì„ ë‹¤ ì˜µì…˜
        let feedback = '';
        let score = 0;
        let quizFinished = false;

        const appDiv = document.getElementById('app');

        // ë°°ì—´ ì„ê¸° ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // ìš”ì†Œ êµí™˜
            }
            return array;
        }

        // 4ì§€ì„ ë‹¤ ì˜µì…˜ ìƒì„± í•¨ìˆ˜
        function generateOptions(currentWord, targetVocabulary) {
            const correctDefinition = currentWord.definition;
            const options = [correctDefinition];

            const allDefinitions = targetVocabulary.map(item => item.definition);
            let incorrectDefinitionsPool = allDefinitions.filter(def => def !== correctDefinition);

            // ì˜¤ë‹µ 3ê°œ ë¬´ì‘ìœ„ë¡œ ì„ íƒ (ì¤‘ë³µ ë°©ì§€)
            while (options.length < 4 && incorrectDefinitionsPool.length > 0) {
                const randomIndex = Math.floor(Math.random() * incorrectDefinitionsPool.length);
                const randomIncorrectDef = incorrectDefinitionsPool[randomIndex];

                if (!options.includes(randomIncorrectDef)) {
                    options.push(randomIncorrectDef);
                }
                incorrectDefinitionsPool.splice(randomIndex, 1); // ì„ íƒëœ ì˜¤ë‹µì€ í’€ì—ì„œ ì œê±°
            }

            // ì˜µì…˜ì´ 4ê°œ ë¯¸ë§Œì¼ ê²½ìš° (ë‹¨ì–´ ìˆ˜ê°€ ì ì„ ë•Œ), í˜„ì¬ ë ˆë²¨ì˜ ë‹¨ì–´ì—ì„œ ì¶”ê°€ ì •ì˜ë¥¼ ê°€ì ¸ì™€ ì±„ì›ë‹ˆë‹¤.
            let tempIndex = 0;
            while (options.length < 4 && tempIndex < targetVocabulary.length) {
                const additionalDef = targetVocabulary[tempIndex].definition;
                if (!options.includes(additionalDef)) {
                    options.push(additionalDef);
                }
                tempIndex++;
            }

            return shuffleArray(options);
        }

        // í€´ì¦ˆ ì‹œì‘ í•¸ë“¤ëŸ¬
        function handleStartQuiz(level) {
            selectedLevel = level;
            quizStarted = true;

            const targetVocabulary = selectedLevel === '800' ? vocabulary800 : vocabulary900;
            shuffledWords = shuffleArray([...targetVocabulary]); // ìƒˆë¡œìš´ ë°°ì—´ë¡œ ì„ê¸°
            currentWordIndex = 0;
            score = 0;
            quizFinished = false;
            feedback = '';
            renderApp(); // í€´ì¦ˆ í™”ë©´ ë Œë”ë§
        }

        // ì •ë‹µ í™•ì¸ í•¸ë“¤ëŸ¬
        function handleCheckAnswer(selectedDefinition) {
            const currentWord = shuffledWords[currentWordIndex];
            if (selectedDefinition === currentWord.definition) {
                feedback = 'ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰';
                score++;
            } else {
                feedback = `ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ '${currentWord.definition}' ì…ë‹ˆë‹¤. ğŸ˜¢`;
            }
            renderApp(); // í”¼ë“œë°± ë°˜ì˜ì„ ìœ„í•´ ë‹¤ì‹œ ë Œë”ë§

            // ì ì‹œ í”¼ë“œë°±ì„ ë³´ì—¬ì¤€ í›„ ë‹¤ìŒ ë‹¨ì–´ë¡œ ì´ë™
            setTimeout(() => {
                if (currentWordIndex < shuffledWords.length - 1) {
                    currentWordIndex++;
                    feedback = ''; // í”¼ë“œë°± ì´ˆê¸°í™”
                    currentOptions = generateOptions(shuffledWords[currentWordIndex], selectedLevel === '800' ? vocabulary800 : vocabulary900);
                    renderApp(); // ë‹¤ìŒ ë‹¨ì–´ í™”ë©´ ë Œë”ë§
                } else {
                    quizFinished = true; // í€´ì¦ˆ ì¢…ë£Œ
                    renderApp(); // í€´ì¦ˆ ì¢…ë£Œ í™”ë©´ ë Œë”ë§
                }
            }, 1500); // 1.5ì´ˆ í›„ ë‹¤ìŒ ë‹¨ì–´ë¡œ
        }

        // í€´ì¦ˆ ì¬ì‹œì‘ í•¸ë“¤ëŸ¬ (ë ˆë²¨ ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°)
        function handleRestartQuiz() {
            quizStarted = false;
            selectedLevel = null; // ë ˆë²¨ ì„ íƒ ì´ˆê¸°í™”
            quizFinished = false;
            score = 0;
            feedback = '';
            renderApp(); // ë ˆë²¨ ì„ íƒ í™”ë©´ ë Œë”ë§
        }

        // ì•±ì˜ í˜„ì¬ ìƒíƒœì— ë”°ë¼ UIë¥¼ ë Œë”ë§í•˜ëŠ” ë©”ì¸ í•¨ìˆ˜
        function renderApp() {
            appDiv.innerHTML = ''; // ê¸°ì¡´ ì½˜í…ì¸  ì´ˆê¸°í™”

            const h1 = document.createElement('h1');
            h1.className = 'text-4xl font-extrabold text-gray-800 mb-6';
            h1.textContent = 'TOEIC ë‹¨ì–´ í…ŒìŠ¤íŠ¸ ğŸ“š';
            appDiv.appendChild(h1);

            if (!quizStarted) {
                // ë ˆë²¨ ì„ íƒ í™”ë©´
                const levelSelectionDiv = document.createElement('div');
                levelSelectionDiv.className = 'space-y-4';

                const p = document.createElement('p');
                p.className = 'text-lg text-gray-600 mb-6';
                p.textContent = 'ë„ì „í•  í† ìµ ë‹¨ì–´ ë ˆë²¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”!';
                levelSelectionDiv.appendChild(p);

                const button800 = document.createElement('button');
                button800.className = 'w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg mb-4';
                button800.textContent = 'TOEIC 800ì ëŒ€ ë‹¨ì–´ ë„ì „ ğŸš€';
                button800.onclick = () => handleStartQuiz('800');
                levelSelectionDiv.appendChild(button800);

                const button900 = document.createElement('button');
                button900.className = 'w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg';
                button900.textContent = 'TOEIC 900ì ëŒ€ ë‹¨ì–´ ë„ì „ ğŸŒŸ';
                button900.onclick = () => handleStartQuiz('900');
                levelSelectionDiv.appendChild(button900);

                appDiv.appendChild(levelSelectionDiv);

            } else if (quizFinished) {
                // í€´ì¦ˆ ì¢…ë£Œ í™”ë©´
                const quizFinishedDiv = document.createElement('div');
                quizFinishedDiv.className = 'space-y-6';

                const h2 = document.createElement('h2');
                h2.className = 'text-3xl font-bold text-gray-800';
                h2.textContent = 'í€´ì¦ˆ ì™„ë£Œ! ğŸ‰';
                quizFinishedDiv.appendChild(h2);

                const scoreP = document.createElement('p');
                scoreP.className = 'text-2xl text-gray-700';
                scoreP.innerHTML = `ìµœì¢… ì ìˆ˜: <span class="font-extrabold text-blue-600">${score}</span> / ${shuffledWords.length}`;
                quizFinishedDiv.appendChild(scoreP);

                const restartButton = document.createElement('button');
                restartButton.className = 'w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg';
                restartButton.textContent = 'ë‹¤ì‹œ ì‹œì‘í•˜ê¸° (ë ˆë²¨ ì„ íƒ)';
                restartButton.onclick = handleRestartQuiz;
                quizFinishedDiv.appendChild(restartButton);

                appDiv.appendChild(quizFinishedDiv);

            } else {
                // í€´ì¦ˆ ì§„í–‰ ì¤‘ í™”ë©´
                const quizInProgressDiv = document.createElement('div');
                quizInProgressDiv.className = 'space-y-6';

                const progressP = document.createElement('p');
                progressP.className = 'text-sm text-gray-500';
                progressP.textContent = `${currentWordIndex + 1} / ${shuffledWords.length}`;
                quizInProgressDiv.appendChild(progressP);

                const wordDisplayDiv = document.createElement('div');
                wordDisplayDiv.className = 'bg-gray-100 p-6 rounded-xl shadow-inner mb-4';
                const wordP = document.createElement('p');
                wordP.className = 'text-3xl font-bold text-gray-800';
                wordP.textContent = shuffledWords[currentWordIndex]?.word;
                wordDisplayDiv.appendChild(wordP);
                quizInProgressDiv.appendChild(wordDisplayDiv);

                const optionsGridDiv = document.createElement('div');
                optionsGridDiv.className = 'grid grid-cols-1 gap-4';

                // ì˜µì…˜ì´ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ë‹¤ë©´, ì§€ê¸ˆ ìƒì„±
                if (currentOptions.length === 0) {
                    currentOptions = generateOptions(shuffledWords[currentWordIndex], selectedLevel === '800' ? vocabulary800 : vocabulary900);
                }

                currentOptions.forEach((option, index) => {
                    const optionButton = document.createElement('button');
                    optionButton.className = 'w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg text-left';
                    optionButton.textContent = option;
                    optionButton.onclick = () => handleCheckAnswer(option);
                    optionsGridDiv.appendChild(optionButton);
                });
                quizInProgressDiv.appendChild(optionsGridDiv);

                if (feedback) {
                    const feedbackP = document.createElement('p');
                    feedbackP.className = `text-lg font-bold ${feedback.includes('ì •ë‹µ') ? 'text-green-600' : 'text-red-600'}`;
                    feedbackP.textContent = feedback;
                    quizInProgressDiv.appendChild(feedbackP);
                }

                const scoreP = document.createElement('p');
                scoreP.className = 'text-md text-gray-600';
                scoreP.innerHTML = `í˜„ì¬ ì ìˆ˜: <span class="font-bold text-purple-600">${score}</span>`;
                quizInProgressDiv.appendChild(scoreP);

                appDiv.appendChild(quizInProgressDiv);
            }
        }

        // ì•± ì´ˆê¸° ë Œë”ë§
        renderApp();
    </script>
</body>
</html>
